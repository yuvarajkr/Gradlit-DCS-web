"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[192],{3192:(he,N,c)=>{c.r(N),c.d(N,{RolesModule:()=>Y});var h,_=c(6895),e=c(4650),b=c(925),m=c(2761);class F{constructor(t){this._studentDataService=t,this.roleFormGroup=this._studentDataService.getRolesForm()}}(h=F).\u0275fac=function(t){return new(t||h)(e.Y36(b.h))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-roles"]],decls:2,vars:0,consts:[[1,"w-full"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},dependencies:[m.lC]});var v,T=c(9742),f=c(9549),U=c(6709),Z=c(284),p=c(4859),d=c(4006);function I(i,t){if(1&i&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&i){const o=t.$implicit;e.xp6(1),e.hij(" ",o," ")}}function J(i,t){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,I,2,1,"div",15),e.qZA()),2&i){const o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",o.allModule)}}function M(i,t){if(1&i){const o=e.EpF();e.TgZ(0,"div",18)(1,"mat-checkbox",19,20),e.NdJ("change",function(n){e.CHM(o);const l=e.MAs(2),a=e.oxw(3);return e.KtG(a.onPermissionChange(n.checked,l.id))}),e.qZA()()}if(2&i){const o=t.$implicit,s=e.MAs(2),n=e.oxw(2).$implicit,l=e.oxw();e.xp6(1),e.Q6J("id",n+"_"+o)("color","primary")("disabled",l.disableCheckBox(s.id))}}function Q(i,t){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,M,3,3,"div",17),e.qZA()),2&i){const o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",o.allModule)}}function H(i,t){if(1&i&&(e.TgZ(0,"div",12)(1,"div")(2,"div",13),e._uU(3),e.qZA(),e.YNc(4,J,2,1,"div",14),e.YNc(5,Q,2,1,"div",14),e.qZA()()),2&i){const o=t.$implicit,s=t.index;e.xp6(3),e.hij(" ",o," "),e.xp6(1),e.Q6J("ngIf",0===s),e.xp6(1),e.Q6J("ngIf",0!=s)}}class y{constructor(t,o,s){this._studentDataService=t,this._router=o,this._http=s,this.permission=[{mod_id:2,actions:""},{mod_id:3,actions:""},{mod_id:4,actions:""},{mod_id:5,actions:""},{mod_id:6,actions:""},{mod_id:7,actions:""}],this.permissionHeader=["Module","Create","View","Edit","Delete","Approve"],this.allModule=["Feed","Events","Announcement","Circular","Clubs","Profile"],this.roleFormGroup=this._studentDataService.getRolesForm()}onPermissionChange(t,o){let s=o.split("_")[0],n=this.permissionHeader.findIndex(l=>l===s);switch(o.split("_").pop()){case"Feed":t?this.setPermission(0,n):this.removePermission(0,n);break;case"Events":t?this.setPermission(1,n):this.removePermission(1,n);break;case"Announcement":t?this.setPermission(2,n):this.removePermission(2,n);break;case"Circular":t?this.setPermission(3,n):this.removePermission(3,n);break;case"Clubs":t?this.setPermission(4,n):this.removePermission(4,n);break;case"Profile":t?this.setPermission(5,n):this.removePermission(5,n)}}setPermission(t,o){if(this.permission[t].actions){let s=this.permission[t].actions.split(",");s.push(String(o)),this.permission[t].actions=s.toString()}else this.permission[t].actions=this.permission[t].actions+o}removePermission(t,o){if(this.permission[t].actions){let s=this.permission[t].actions.split(","),n=s.findIndex(l=>l===String(o));s.splice(n,1),this.permission[t].actions=s.toString()}}onCreateRole(){let t=this.roleFormGroup.getRawValue();t.permissions=this.permission,t.is_add_role=!0,this._http.createRole(t).subscribe({next:o=>{console.log("created role"),this._router.navigate(["student/roles/list-roles"])},error:o=>console.log("role creation failed..!")})}disableCheckBox(t){return!!t.includes("Edit_Feed")||(t.includes("Approve")?"Approve_Feed"!==t:void 0)}}(v=y).\u0275fac=function(t){return new(t||v)(e.Y36(b.h),e.Y36(m.F0),e.Y36(T.A))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-add-new-role"]],decls:21,vars:2,consts:[[1,"ml-3","w-full",3,"formGroup"],[1,"pt-2","text-2xl","font-semibold"],[1,"ml-3","mt-10"],[1,"flex-auto","gt-xs:pr-3","w-2/3"],["matInput","","formControlName","role_name"],[1,"flex-auto","gt-xs:pr-3","w-1/3"],["matInput","","formControlName","description"],[1,"ml-3","text-xl"],[1,"flex","border","ml-4","pr-16"],["class","m-12 mt-8 mb-2",4,"ngFor","ngForOf"],[1,"my-10","mr-5","flex","justify-end"],["mat-raised-button","","color","primary",2,"background-color","#001E52",3,"click"],[1,"m-12","mt-8","mb-2"],[1,"text-lg"],[4,"ngIf"],["class","my-8",4,"ngFor","ngForOf"],[1,"my-8"],["class","my-4",4,"ngFor","ngForOf"],[1,"my-4"],[1,"flex","items-center",3,"id","color","disabled","change"],["checkBox",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Add New Role"),e.qZA(),e.TgZ(3,"div",2)(4,"div")(5,"mat-form-field",3)(6,"mat-label"),e._uU(7,"Role Name"),e.qZA(),e._UZ(8,"input",4),e.qZA()(),e.TgZ(9,"div")(10,"mat-form-field",5)(11,"mat-label"),e._uU(12,"Brief Description"),e.qZA(),e._UZ(13,"textarea",6),e.qZA()()(),e.TgZ(14,"p",7),e._uU(15,"Permissions"),e.qZA(),e.TgZ(16,"div",8),e.YNc(17,H,6,3,"div",9),e.qZA(),e.TgZ(18,"div",10)(19,"button",11),e.NdJ("click",function(){return o.onCreateRole()}),e._uU(20,"Create Role"),e.qZA()()()),2&t&&(e.Q6J("formGroup",o.roleFormGroup),e.xp6(17),e.Q6J("ngForOf",o.permissionHeader))},dependencies:[_.sg,_.O5,f.KE,f.hX,U.oG,Z.Nt,p.lW,d.Fj,d.JJ,d.JL,d.sg,d.u]});var x,r=c(7155),w=c(7392),R=c(266),g=c(6308);function G(i,t){1&i&&(e.TgZ(0,"mat-header-cell",15),e._uU(1," Role Name "),e.qZA())}function S(i,t){if(1&i){const o=e.EpF();e.TgZ(0,"mat-cell",16),e.NdJ("click",function(){const l=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.onRoleClick(l))}),e._uU(1),e.qZA()}if(2&i){const o=t.$implicit;e.xp6(1),e.hij(" ",o.Name," ")}}function B(i,t){1&i&&(e.TgZ(0,"mat-header-cell",15),e._uU(1," Edit "),e.qZA())}function O(i,t){if(1&i){const o=e.EpF();e.TgZ(0,"mat-cell")(1,"button",17),e.NdJ("click",function(){const l=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.onClickEdit(l))}),e.TgZ(2,"mat-icon",18),e._uU(3,"edit"),e.qZA()()()}}function j(i,t){1&i&&(e.TgZ(0,"mat-header-cell",15),e._uU(1," Delete "),e.qZA())}function L(i,t){if(1&i){const o=e.EpF();e.TgZ(0,"mat-cell")(1,"button",19),e.NdJ("click",function(){const l=e.CHM(o).$implicit,a=e.oxw();return e.KtG(a.onClickDelete(l.id))}),e.TgZ(2,"mat-icon"),e._uU(3,"delete"),e.qZA()()()}}function $(i,t){1&i&&e._UZ(0,"mat-header-row")}function K(i,t){1&i&&e._UZ(0,"mat-row")}const k=[];class D{constructor(t,o){this._http=t,this._router=o,this.displayedColumns=["name","edit","delete"],this.products=k,this.dataSource=k}ngOnInit(){this._http.getAllRoles().subscribe({next:t=>{this.products=t.data,this.dataSource=this.products},error:t=>{console.log("fetching roles failed...")}})}onNavigate(t){console.log(`product code ${t}`)}filterProduct(t){}onClickEdit(t){this._router.navigate([`/student/roles/edit-roles/${t.id}`])}onClickDelete(t){this._http.deleteRole(t).subscribe({next:o=>{console.log(o),this._http.getAllRoles().subscribe({next:s=>{this.products=s.data,this.dataSource=this.products},error:s=>{console.log("fetching roles failed...")}})},error:o=>{console.log(o)}})}onRoleClick(t){this._router.navigate([`/student/roles/add-users-to-role/${t.id}`,{name:t.Name,description:t.Description,id:t.id}])}}(x=D).\u0275fac=function(t){return new(t||x)(e.Y36(T.A),e.Y36(m.F0))},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-list-roles"]],decls:21,vars:4,consts:[[1,"w-full"],[1,"m-6","flex","justify-between"],[1,"text-xl","font-semibold","flex"],["mat-raised-button","",2,"background-color","#001E52","color","white",3,"routerLink"],[1,"w-4/5","m-6"],["matSort","",3,"dataSource"],["table",""],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],["class","cursor-pointer",3,"click",4,"matCellDef"],["matColumnDef","edit"],[4,"matCellDef"],["matColumnDef","delete"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],[1,"cursor-pointer",3,"click"],["mat-icon-button","","matTooltip","Click to Edit","color","primary",1,"iconbutton",3,"click"],[2,"color","#001E52 !important"],["mat-icon-button","","matTooltip","Click to Delete","color","warn",1,"iconbutton",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3,"Roles"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e._uU(6,"Add Role"),e.qZA()()(),e.TgZ(7,"div",4)(8,"mat-table",5,6),e.ynx(10,7),e.YNc(11,G,2,0,"mat-header-cell",8),e.YNc(12,S,2,1,"mat-cell",9),e.BQk(),e.ynx(13,10),e.YNc(14,B,2,0,"mat-header-cell",8),e.YNc(15,O,4,0,"mat-cell",11),e.BQk(),e.ynx(16,12),e.YNc(17,j,2,0,"mat-header-cell",8),e.YNc(18,L,4,0,"mat-cell",11),e.BQk(),e.YNc(19,$,1,0,"mat-header-row",13),e.YNc(20,K,1,0,"mat-row",14),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("routerLink","/student/roles/add-roles"),e.xp6(3),e.Q6J("dataSource",o.dataSource),e.xp6(11),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns))},dependencies:[m.rH,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,p.lW,p.RK,w.Hw,R.gM,g.YE,g.nU]});var C,A,V=c(1572);function X(i,t){if(1&i&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&i){const o=t.$implicit;e.xp6(1),e.hij(" ",o," ")}}function z(i,t){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,X,2,1,"div",15),e.qZA()),2&i){const o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",o.allModule)}}function W(i,t){if(1&i){const o=e.EpF();e.TgZ(0,"div",18)(1,"mat-checkbox",19,20),e.NdJ("change",function(n){e.CHM(o);const l=e.MAs(2),a=e.oxw(3);return e.KtG(a.onPermissionChange(n.checked,l.id))}),e.qZA()()}if(2&i){const o=t.$implicit,s=e.MAs(2),n=e.oxw(2).$implicit,l=e.oxw();e.xp6(1),e.Q6J("id",n+"_"+o)("color","primary")("disabled",l.disableCheckBox(s.id))}}function ee(i,t){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,W,3,3,"div",17),e.qZA()),2&i){const o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",o.allModule)}}function te(i,t){if(1&i&&(e.TgZ(0,"div",12)(1,"div")(2,"div",13),e._uU(3),e.qZA(),e.YNc(4,z,2,1,"div",14),e.YNc(5,ee,2,1,"div",14),e.qZA()()),2&i){const o=t.$implicit,s=t.index;e.xp6(3),e.hij(" ",o," "),e.xp6(1),e.Q6J("ngIf",0===s),e.xp6(1),e.Q6J("ngIf",0!=s)}}class P{constructor(t,o,s,n){this._http=t,this._studentDataService=o,this._router=s,this._actvRoute=n,this.permission=[{mod_id:2,actions:""},{mod_id:3,actions:""},{mod_id:4,actions:""},{mod_id:5,actions:""},{mod_id:6,actions:""},{mod_id:7,actions:""}],this.permissionHeader=["Module","Create","View","Edit","Delete","Approve"],this.allModule=["Feed","Events","Announcement","Circular","Clubs","Profile"],this._http.getRolePermission(+this._actvRoute.snapshot.paramMap.get("id")).subscribe({next:l=>{this.selectedRoleId=+this._actvRoute.snapshot.paramMap.get("id"),this.rolesData=l?.data[0].sub_modules,this.assignAllPermissions(this.rolesData),this.roleFormGroup.get("role_name").setValue(l?.data[0]?.name||"Admin Test"),this.roleFormGroup.get("description").setValue(l?.data[0]?.description||"Admin Description")},error:l=>{console.log(l),this.roleFormGroup.get("role_name").setValue("Admin Test"),this.roleFormGroup.get("description").setValue("Admin Description")}}),this.roleFormGroup=this._studentDataService.getRolesForm()}ngAfterViewInit(){}onPermissionChange(t,o){let s=o.split("_")[0],n=this.permissionHeader.findIndex(l=>l===s);switch(o.split("_").pop()){case"Feed":t?this.setPermission(0,n):this.removePermission(0,n);break;case"Events":t?this.setPermission(1,n):this.removePermission(1,n);break;case"Announcement":t?this.setPermission(2,n):this.removePermission(2,n);break;case"Circular":t?this.setPermission(3,n):this.removePermission(3,n);break;case"Clubs":t?this.setPermission(4,n):this.removePermission(4,n);break;case"Profile":t?this.setPermission(5,n):this.removePermission(5,n)}}setPermission(t,o){if(this.permission[t].actions){let s=this.permission[t].actions.split(",");s.push(String(o)),s=[...new Set(s)],this.permission[t].actions=s.toString()}else this.permission[t].actions=this.permission[t].actions+o}removePermission(t,o){if(this.permission[t].actions){let s=this.permission[t].actions.split(","),n=s.findIndex(l=>l===String(o));s.splice(n,1),this.permission[t].actions=s.toString()}}onUpdateRole(){let t=this.roleFormGroup.getRawValue();t.permissions=this.permission,t.is_add_role=!1,t.role_id=this.selectedRoleId,this._http.updateRole(t).subscribe({next:o=>{console.log("created role"),this._router.navigate(["student/roles/list-roles"])},error:o=>console.log("role creation failed..!")})}assignAllPermissions(t){t.forEach(o=>{let s=o.name;o.allowed_actions.forEach(l=>{switch(l.action_id){case 1:document.getElementById("Create_"+s+"-input").checked=!0,this.setPermission(this.allModule.findIndex(a=>a===s),1);break;case 2:document.getElementById("View_"+s+"-input").checked=!0,this.setPermission(this.allModule.findIndex(a=>a===s),2);break;case 3:document.getElementById("Edit_"+s+"-input").checked=!0,this.setPermission(this.allModule.findIndex(a=>a===s),3);break;case 4:document.getElementById("Delete_"+s+"-input").checked=!0,this.setPermission(this.allModule.findIndex(a=>a===s),4);break;case 5:document.getElementById("Approve_"+s+"-input").checked=!0,this.setPermission(this.allModule.findIndex(a=>a===s),5)}})})}disableCheckBox(t){return!!t.includes("Edit_Feed")||(t.includes("Approve")?"Approve_Feed"!==t:void 0)}}function oe(i,t){if(1&i){const o=e.EpF();e.TgZ(0,"div",3)(1,"div")(2,"div",4)(3,"h1",5),e._uU(4,"Role -"),e.qZA(),e.TgZ(5,"h1"),e._uU(6),e.qZA()(),e.TgZ(7,"div",6)(8,"p"),e._uU(9,"Add users for the above role"),e.qZA()(),e.TgZ(10,"div",7)(11,"div",8)(12,"p"),e._uU(13,"Choose File"),e.qZA()(),e.TgZ(14,"div",8)(15,"input",9,10),e.NdJ("change",function(n){e.CHM(o);const l=e.oxw();return e.KtG(l.onFileUpload(n))}),e.qZA(),e.TgZ(17,"label",11),e._UZ(18,"mat-icon",12),e.qZA()()(),e.TgZ(19,"div",13)(20,"div",14)(21,"button",15),e.NdJ("click",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.onAddUsers())}),e._uU(22,"Add Users"),e.qZA()()()()()}if(2&i){const o=e.oxw();e.xp6(6),e.Oqu(o.selectedRoleName),e.xp6(9),e.Q6J("multiple",!1)("accept","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:document-text")}}function ie(i,t){1&i&&(e.TgZ(0,"mat-header-cell",30),e._uU(1," User "),e.qZA())}function se(i,t){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const o=t.$implicit;e.xp6(1),e.hij(" ",o.name," ")}}function ne(i,t){1&i&&(e.TgZ(0,"mat-header-cell",30),e._uU(1," User ID"),e.qZA())}function le(i,t){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const o=t.$implicit;e.xp6(1),e.hij(" ",o.id," ")}}function re(i,t){1&i&&(e.TgZ(0,"mat-header-cell",30),e._uU(1," Department"),e.qZA())}function ae(i,t){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const o=t.$implicit;e.xp6(1),e.hij(" ",o.usn," ")}}function ce(i,t){1&i&&(e.TgZ(0,"mat-header-cell",30),e._uU(1," Delete "),e.qZA())}function de(i,t){1&i&&(e.TgZ(0,"mat-cell")(1,"button",31)(2,"mat-icon"),e._uU(3,"delete"),e.qZA()()())}function me(i,t){1&i&&e._UZ(0,"mat-header-row")}function pe(i,t){1&i&&e._UZ(0,"mat-row")}function _e(i,t){if(1&i){const o=e.EpF();e.TgZ(0,"div")(1,"div")(2,"div",16)(3,"div",17)(4,"h1",5),e._uU(5,"Role -"),e.qZA(),e.TgZ(6,"h1"),e._uU(7),e.qZA()(),e.TgZ(8,"div")(9,"div",18)(10,"button",15),e.NdJ("click",function(){e.CHM(o);const n=e.oxw();return e.KtG(n.onUpdateUsers())}),e._uU(11,"Add Users"),e.qZA()()()(),e.TgZ(12,"div",19)(13,"mat-table",20,21),e.ynx(15,22),e.YNc(16,ie,2,0,"mat-header-cell",23),e.YNc(17,se,2,1,"mat-cell",24),e.BQk(),e.ynx(18,25),e.YNc(19,ne,2,0,"mat-header-cell",23),e.YNc(20,le,2,1,"mat-cell",24),e.BQk(),e.ynx(21,26),e.YNc(22,re,2,0,"mat-header-cell",23),e.YNc(23,ae,2,1,"mat-cell",24),e.BQk(),e.ynx(24,27),e.YNc(25,ce,2,0,"mat-header-cell",23),e.YNc(26,de,4,0,"mat-cell",24),e.BQk(),e.YNc(27,me,1,0,"mat-header-row",28),e.YNc(28,pe,1,0,"mat-row",29),e.qZA()()()()}if(2&i){const o=e.oxw();e.xp6(7),e.Oqu(o.selectedRoleName),e.xp6(6),e.Q6J("dataSource",o.existingUserDetails),e.xp6(14),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns)}}(C=P).\u0275fac=function(t){return new(t||C)(e.Y36(T.A),e.Y36(b.h),e.Y36(m.F0),e.Y36(m.gz))},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-edit-roles"]],decls:21,vars:2,consts:[[1,"ml-3","w-full",3,"formGroup"],[1,"pt-2","text-2xl","font-semibold"],[1,"ml-3","mt-10"],[1,"flex-auto","gt-xs:pr-3","w-2/3"],["matInput","","formControlName","role_name"],[1,"flex-auto","gt-xs:pr-3","w-1/3"],["matInput","","formControlName","description"],[1,"ml-3","text-xl"],[1,"flex","border","ml-4","pr-16"],["class","m-12 mt-8 mb-2",4,"ngFor","ngForOf"],[1,"my-10","flex","justify-end"],["mat-raised-button","","color","primary",2,"background-color","#001E52",3,"click"],[1,"m-12","mt-8","mb-2"],[1,"text-lg"],[4,"ngIf"],["class","my-8",4,"ngFor","ngForOf"],[1,"my-8"],["class","my-4",4,"ngFor","ngForOf"],[1,"my-4"],["disableRipple","",1,"flex","items-center",3,"id","color","disabled","change"],["checkBox",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Edit Role"),e.qZA(),e.TgZ(3,"div",2)(4,"div")(5,"mat-form-field",3)(6,"mat-label"),e._uU(7,"Role Name"),e.qZA(),e._UZ(8,"input",4),e.qZA()(),e.TgZ(9,"div")(10,"mat-form-field",5)(11,"mat-label"),e._uU(12,"Brief Description"),e.qZA(),e._UZ(13,"textarea",6),e.qZA()()(),e.TgZ(14,"p",7),e._uU(15,"Permissions"),e.qZA(),e.TgZ(16,"div",8),e.YNc(17,te,6,3,"div",9),e.qZA(),e.TgZ(18,"div",10)(19,"button",11),e.NdJ("click",function(){return o.onUpdateRole()}),e._uU(20,"Update Role"),e.qZA()()()),2&t&&(e.Q6J("formGroup",o.roleFormGroup),e.xp6(17),e.Q6J("ngForOf",o.permissionHeader))},dependencies:[_.sg,_.O5,f.KE,f.hX,U.oG,Z.Nt,p.lW,d.Fj,d.JJ,d.JL,d.sg,d.u]});const E=[];class q{constructor(t,o){this._route=t,this._studentHttp=o,this.updateUsers=!1,this.displayedColumns=["user","userID","department","delete"],this.products=E,this.dataSource=E,this.selectedRoleName=this._route.snapshot.params.name,this.selectedRoleDes=this._route.snapshot.params.description,this.selectedRoleId=this._route.snapshot.params.id,this._studentHttp.getUsersOfRoleId(this.selectedRoleId).subscribe({next:s=>{this.existingUserDetails=s.data?.rows},error:s=>{console.log(s)}})}onFileUpload(t){this.usersDetailFile=t.target.files[0]}onUpdateUsers(){this.updateUsers=!0}onAddUsers(){if(!this.usersDetailFile)return;let t=new FormData;this.usersDetailFile&&t.append("file",this.usersDetailFile),t.append("role_id",this.selectedRoleId),this._studentHttp.addUsersToRole(t).subscribe({next:o=>{console.log(o)},error:o=>{console.log(o)}})}}var u;(A=q).\u0275fac=function(t){return new(t||A)(e.Y36(m.gz),e.Y36(T.A))},A.\u0275cmp=e.Xpm({type:A,selectors:[["app-add-user-to-roles"]],decls:3,vars:2,consts:[[1,"m-6",2,"width","85vw"],["class","m-3 relative","style","height: 85vh;",4,"ngIf"],[4,"ngIf"],[1,"m-3","relative",2,"height","85vh"],[1,"flex","text-4xl","font-semibold","text-blue-900","mb-2"],[1,"mr-2"],[1,"mt-5"],[1,"flex","mt-13"],[1,"flex","items-center"],["id","document-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["post_documet",""],["for","document-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-gray-400","hover:bg-opacity-20","dark:hover:bg-black","dark:hover:bg-opacity-5"],[3,"svgIcon"],[1,"min-w-256","absolute","bottom-1"],[1,"my-10","flex","justify-end"],["mat-raised-button","","color","primary",2,"background-color","#001E52",3,"click"],[1,"flex","text-4xl","font-semibold","text-blue-900","mb-2","justify-between"],[1,"flex"],[1,"flex","justify-end"],[1,"w-4/5"],["matSort","",3,"dataSource"],["table",""],["matColumnDef","user"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","userID"],["matColumnDef","department"],["matColumnDef","delete"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],["mat-icon-button","","matTooltip","Click to Delete","color","warn",1,"iconbutton"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,oe,23,4,"div",1),e.YNc(2,_e,29,4,"div",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",!o.existingUserDetails||o.updateUsers),e.xp6(1),e.Q6J("ngIf",o.existingUserDetails&&!o.updateUsers))},dependencies:[_.O5,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,p.lW,p.RK,w.Hw,R.gM,g.YE,g.nU]});const ue=[{path:"",component:F,children:[{path:"list-roles",component:D},{path:"add-roles",component:y},{path:"edit-roles/:id",component:P},{path:"add-users-to-role/:id",component:q}]}];class Y{}(u=Y).\u0275fac=function(t){return new(t||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[_.ez,m.Bz.forChild(ue),r.p0,f.lN,U.p9,Z.c,p.ot,d.u5,d.UX,p.ot,w.Ps,r.p0,R.AV,R.AV,g.JX,Z.c,V.Cq]})}}]);