"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[580],{1580:(Q,v,i)=>{i.r(v),i.d(v,{AnnouncementModule:()=>r});var s=i(6895),p=i(7392),C=i(5804),f=i(4364),g=i(9549),c=i(4006),x=i(7274),e=i(4650),Z=i(925),h=i(9742),_=i(284);class u{constructor(t,n,l,a){this._studentData=t,this.data=n,this._studentHttp=l,this._dialogRef=a,this.formFieldHelpers=[""],this.createStudentCircularForm=this._studentData.getCreateCircularForm()}onCreateCircular(){"Circular"===this.data.type?this._studentHttp.createCirculars(this._populateData()).subscribe({next:t=>{this._closeDialog(),console.log(t)},error:t=>{console.log(t)}}):this._studentHttp.createAnnouncement(this._populateData()).subscribe({next:t=>{this._closeDialog(),console.log(t)},error:t=>{console.log(t)}})}_populateData(){let t=new FormData;return this.file&&t.append("file_name",this.file),t.append("heading",this.createStudentCircularForm.get("heading").value),t.append("group_name",this.createStudentCircularForm.get("group_name").value),t.append("description",this.createStudentCircularForm.get("description").value),t}onFileUpload(t){this.file=t.target.files[0]}_closeDialog(){this._dialogRef.close()}}u.\u0275fac=function(t){return new(t||u)(e.Y36(Z.h),e.Y36(x.WI,8),e.Y36(h.A),e.Y36(x.so))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-create-announcement-club"]],decls:25,vars:9,consts:[[1,"flex","flex-col","mt-4","pb-4","overflow-hidden",3,"formGroup"],[1,"flex","flex-col","gt-xs:flex-row"],[1,"flex-auto","gt-xs:pr-3",3,"ngClass"],["matInput","","formControlName","heading","placeholder","This is a placeholder"],[1,"flex"],[1,"flex-auto",3,"ngClass"],["matInput","","formControlName","description","cdkTextareaAutosize",""],["matInput","","formControlName","group_name","cdkTextareaAutosize",""],["id","document-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["post_documet",""],["for","document-file-input","matRipple","",1,"flex"],[3,"svgIcon"],[1,"mt-4"],[1,"br-10",2,"background-color","lightsteelblue","border-radius","10px","width","111px","height","31px",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e._uU(4),e.qZA(),e._UZ(5,"input",3),e.qZA()(),e.TgZ(6,"div",4)(7,"mat-form-field",5)(8,"mat-label"),e._uU(9),e.qZA(),e._UZ(10,"input",6),e.qZA()(),e.TgZ(11,"div",4)(12,"mat-form-field",5)(13,"mat-label"),e._uU(14,"Group Name"),e.qZA(),e._UZ(15,"input",7),e.qZA()(),e.TgZ(16,"div")(17,"input",8,9),e.NdJ("change",function(a){return n.onFileUpload(a)}),e.qZA(),e.TgZ(19,"label",10),e._UZ(20,"mat-icon",11),e._uU(21," Attach File "),e.qZA()(),e.TgZ(22,"div",12)(23,"button",13),e.NdJ("click",function(){return n.onCreateCircular()}),e._uU(24,"Creat"),e.qZA()()()),2&t&&(e.Q6J("formGroup",n.createStudentCircularForm),e.xp6(2),e.Q6J("ngClass",n.formFieldHelpers),e.xp6(2),e.hij("",n.data.type," Name"),e.xp6(3),e.Q6J("ngClass",n.formFieldHelpers),e.xp6(2),e.hij("",n.data.type," Description"),e.xp6(3),e.Q6J("ngClass",n.formFieldHelpers),e.xp6(5),e.Q6J("multiple",!1)("accept","application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint, text/plain, application/pdf, image/*"),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:document-text"))},dependencies:[s.mk,p.Hw,g.KE,g.hX,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,_.Nt]});var T=i(9602),A=i(4385),b=i(3238);function w(o,t){if(1&o&&(e.TgZ(0,"div",18)(1,"div",19)(2,"div"),e._UZ(3,"span",20),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"button",21),e._UZ(7,"mat-icon",22),e.TgZ(8,"a",23)(9,"span",24),e._uU(10,"Download"),e.qZA()()()(),e.TgZ(11,"div"),e._uU(12),e.ALo(13,"slice"),e.qZA()()),2&o){const n=t.$implicit;e.xp6(5),e.Oqu(n.heading),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:download"),e.xp6(1),e.Q6J("href",null==n?null:n.file_path,e.LSH),e.xp6(4),e.hij(" ",e.Dn7(13,4,n.description,0,200)+"...."," ")}}function y(o,t){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,w,14,8,"div",17),e.qZA()),2&o){const n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.allAnnouncement)}}function U(o,t){if(1&o&&(e.TgZ(0,"div",15),e.YNc(1,y,2,1,"div",16),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.isCircExpanded)}}const F=function(){return["./"]};function J(o,t){if(1&o){const n=e.EpF();e.TgZ(0,"fuse-card",29),e.NdJ("click",function(){const m=e.CHM(n).$implicit,H=e.oxw(3);return e.KtG(H.onAnncExpanded(m))}),e.TgZ(1,"div",30)(2,"div",31),e._uU(3,"Admin"),e.qZA(),e.TgZ(4,"div",32),e._uU(5),e.qZA(),e.TgZ(6,"div",33),e._uU(7),e.ALo(8,"slice"),e.qZA(),e.TgZ(9,"div",34)(10,"a",35),e._uU(11," View more "),e.qZA()()(),e.TgZ(12,"div",36),e._UZ(13,"img",37),e.qZA()()}if(2&o){const n=t.$implicit;e.xp6(5),e.Oqu(n.heading),e.xp6(2),e.hij(" ",e.Dn7(8,4,n.description,0,50)+"...."," "),e.xp6(3),e.Q6J("color","primary")("routerLink",e.DdM(8,F))}}function D(o,t){if(1&o&&(e.TgZ(0,"div",27),e.YNc(1,J,14,9,"fuse-card",28),e.qZA()),2&o){const n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.allAnnouncement)}}function q(o,t){if(1&o){const n=e.EpF();e.TgZ(0,"div")(1,"button",38),e.NdJ("click",function(){e.CHM(n);const a=e.oxw(2);return e.KtG(a.isAnncExpanded=!1)}),e._uU(2,"Go Back"),e.qZA(),e.TgZ(3,"fuse-card",39)(4,"div",30)(5,"div",31),e._uU(6,"Admin"),e.qZA(),e.TgZ(7,"div",32),e._uU(8),e.qZA(),e.TgZ(9,"div",33),e._uU(10),e.qZA()(),e.TgZ(11,"div",36),e._UZ(12,"img",37),e.qZA()()()}if(2&o){const n=e.oxw(2);e.xp6(8),e.Oqu(n.selectedAnnDetails.heading),e.xp6(2),e.hij(" ",n.selectedAnnDetails.description," ")}}function I(o,t){if(1&o&&(e.TgZ(0,"div",15),e.YNc(1,D,2,1,"div",25),e.YNc(2,q,13,2,"div",26),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.isAnncExpanded),e.xp6(1),e.Q6J("ngIf",n.isAnncExpanded)}}class d{constructor(t,n,l){this._studentHttp=t,this._matDialog=n,this._activatedRoute=l,this.isCircExpanded=!1,this.isAnncExpanded=!1,this.isCircular=this._activatedRoute.snapshot.queryParamMap.get("circular"),this.onTypeSelection("announcement"===this.isCircular?"Announcement":"Circular")}onCreateCircular(t){this._matDialog.open(u,{autoFocus:!1,maxHeight:"90vh",width:"60vw",data:{type:t}}).afterClosed().subscribe(l=>{console.log(`Dialog result: ${l}`)})}onTypeSelection(t){"Circular"===t?(this.isCircular="Circular",this._studentHttp.getAllCircualrs().subscribe({next:n=>{this.allAnnouncement=n.data.results}})):(this.isCircular="announcement",this._studentHttp.getAllAnnouncements().subscribe({next:n=>{this.allAnnouncement=n.data.results}}))}onAnncExpanded(t){this.isAnncExpanded=!0,this.selectedAnnDetails=t}}d.\u0275fac=function(t){return new(t||d)(e.Y36(h.A),e.Y36(x.uw),e.Y36(f.gz))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-announcement-clubs"]],decls:23,vars:5,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","sm:py-8","sm:px-10","border-b","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"whitespace-nowrap","text-primary-500"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"mt-2"],[1,"w-50","text-xl",2,"background-color","aliceblue",3,"value","selectionChange"],["selectedType",""],["value","Circular"],["value","Announcement"],[1,"font-semibold",2,"color","#453ac6",3,"click"],["class","flex-auto p-6 sm:p-10",4,"ngIf"],[1,"flex-auto","p-6","sm:p-10"],[4,"ngIfFlex","ngIf"],["style","\n            padding: 10px;\n            border-radius: 10px; margin-top:10px",4,"ngFor","ngForOf"],[2,"padding","10px","border-radius","10px","margin-top","10px"],[1,"font-semibold","flex","justify-between"],[1,"h-2","w-2","rounded-3xl","bg-red-500","inline-block","mr-1"],["mat-button","",1,"px-3","mr-1"],[1,"icon-size-5","text-red-500",3,"svgIcon"],["download","attachedFile.txt",3,"href"],[1,"ml-2"],["class","flex flex-wrap gap-1",4,"ngIf"],[4,"ngIf"],[1,"flex","flex-wrap","gap-1"],["class","flex flex-col md:flex-row justify-between max-w-64 min-w-80 p-4 pb-4 mx-2 my-3 filter-listing carousel-block",3,"click",4,"ngFor","ngForOf"],[1,"flex","flex-col","md:flex-row","justify-between","max-w-64","min-w-80","p-4","pb-4","mx-2","my-3","filter-listing","carousel-block",3,"click"],[1,"flex","flex-col","flex-auto","order-2","md:order-1"],[1,"font-medium","text-secondary"],[1,"text-xl","font-bold"],[1,"mt-2","mb-4","leading-relaxed","text-secondary"],[1,"flex","items-center","mt-3","-mx-3"],["mat-button","",1,"px-3","mr-1",3,"color","routerLink"],[1,"order-1","md:order-2","w-full","md:w-40","md:ml-6","mb-8","md:mb-4","rounded-lg","overflow-hidden"],["src","assets/images/cards/coffee-shop-03-320x320.jpg","alt","Card cover image",1,"w-full","h-full","object-cover"],[3,"click"],[1,"mt-10","flex","flex-col","md:flex-row","justify-between","w-full","min-w-3/4","p-4","pb-4","filter-listing","carousel-block"]],template:function(t,n){if(1&t){const l=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),e._uU(6,"Student"),e.qZA()(),e.TgZ(7,"div",5),e._UZ(8,"mat-icon",6),e.TgZ(9,"a",7),e._uU(10,"Circular / Announcement"),e.qZA()()(),e.TgZ(11,"div",8)(12,"mat-select",9,10),e.NdJ("selectionChange",function(m){return n.onTypeSelection(m.value)}),e.TgZ(14,"mat-option",11),e._uU(15," Circular"),e.qZA(),e.TgZ(16,"mat-option",12),e._uU(17," Announcement"),e.qZA()(),e.TgZ(18,"div",8)(19,"button",13),e.NdJ("click",function(){e.CHM(l);const m=e.MAs(13);return e.KtG(n.onCreateCircular(m.value))}),e._uU(20),e.qZA()()()()(),e.YNc(21,U,2,1,"div",14),e.YNc(22,I,3,2,"div",14),e.qZA()}if(2&t){const l=e.MAs(13);e.xp6(8),e.Q6J("svgIcon","heroicons_solid:chevron-right"),e.xp6(4),e.Q6J("value","announcement"===n.isCircular?"Announcement":"Circular"),e.xp6(8),e.Oqu("Create "+l.value),e.xp6(1),e.Q6J("ngIf","announcement"!==n.isCircular),e.xp6(1),e.Q6J("ngIf","announcement"===n.isCircular)}},dependencies:[s.sg,s.O5,p.Hw,T.y,A.gD,b.ey,f.rH,s.OU]});const N=[{path:"",component:d}];class r{}r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[s.ez,p.Ps,C.J,g.lN,c.UX,_.c,A.LD,f.Bz.forChild(N)]})}}]);