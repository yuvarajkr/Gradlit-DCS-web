"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[581],{4581:(Fe,I,c)=>{c.r(I),c.d(I,{ConnectModule:()=>H});var k=c(9299),x=c(7274),S=c(4859),N=c(4850),C=c(148),P=c(6709),t=c(4650),m=c(3238),u=c(1837);const z=new t.OlP("MAT_LUXON_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function j(){return{useUtc:!1,firstDayOfWeek:0}}});let W=(()=>{class s extends m._A{constructor(e,i){super(),this._useUTC=!!i?.useUtc,this._firstDayOfWeek=i?.firstDayOfWeek||0,this.setLocale(e||u.ou.local().locale)}getYear(e){return e.year}getMonth(e){return e.month-1}getDate(e){return e.day}getDayOfWeek(e){return e.weekday}getMonthNames(e){return u.kI.months(e,{locale:this.locale})}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return function U(s,n){const e=Array(s);for(let i=0;i<s;i++)e[i]=n(i);return e}(31,i=>e.format(u.ou.utc(2017,1,i+1).toJSDate()))}getDayOfWeekNames(e){const i=u.kI.weekdays(e,{locale:this.locale});return i.unshift(i.pop()),i}getYearName(e){return e.toFormat("yyyy")}getFirstDayOfWeek(){return this._firstDayOfWeek}getNumDaysInMonth(e){return e.daysInMonth}clone(e){return u.ou.fromObject(e.toObject())}createDate(e,i,a){if(i<0||i>11)throw Error(`Invalid month index "${i}". Month index has to be between 0 and 11.`);if(a<1)throw Error(`Invalid date "${a}". Date has to be greater than 0.`);const r=this._useUTC?u.ou.utc(e,i+1,a):u.ou.local(e,i+1,a);if(!this.isValid(r))throw Error(`Invalid date "${a}". Reason: "${r.invalidReason}".`);return r.setLocale(this.locale)}today(){return(this._useUTC?u.ou.utc():u.ou.local()).setLocale(this.locale)}parse(e,i){const a=this._getOptions();if("string"==typeof e&&e.length>0){const r=u.ou.fromISO(e,a);if(this.isValid(r))return r;const o=Array.isArray(i)?i:[i];if(!i.length)throw Error("Formats array must not be empty.");for(const l of o){const d=u.ou.fromFormat(e,l,a);if(this.isValid(d))return d}return this.invalid()}return"number"==typeof e?u.ou.fromMillis(e,a):e instanceof Date?u.ou.fromJSDate(e,a):e instanceof u.ou?u.ou.fromMillis(e.toMillis(),a):null}format(e,i){if(!this.isValid(e))throw Error("LuxonDateAdapter: Cannot format invalid date.");return e.setLocale(this.locale).setZone(this._useUTC?"utc":void 0).toFormat(i)}addCalendarYears(e,i){return e.plus({years:i}).setLocale(this.locale)}addCalendarMonths(e,i){return e.plus({months:i}).setLocale(this.locale)}addCalendarDays(e,i){return e.plus({days:i}).setLocale(this.locale)}toIso8601(e){return e.toISO()}deserialize(e){const i=this._getOptions();let a;if(e instanceof Date&&(a=u.ou.fromJSDate(e,i)),"string"==typeof e){if(!e)return null;a=u.ou.fromISO(e,i)}return a&&this.isValid(a)?a:super.deserialize(e)}isDateInstance(e){return e instanceof u.ou}isValid(e){return e.isValid}invalid(){return u.ou.invalid("Invalid Luxon DateTime object.")}_getOptions(){return{zone:this._useUTC?"utc":void 0,locale:this.locale}}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(m.Ad,8),t.LFG(z,8))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})();const J={parse:{dateInput:"D"},display:{dateInput:"D",monthYearLabel:"LLL yyyy",dateA11yLabel:"DD",monthYearA11yLabel:"LLLL yyyy"}};let Q=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[{provide:m._A,useClass:W,deps:[m.Ad,z]}]}),s})(),q=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[{provide:m.sG,useValue:J}],imports:[Q]}),s})();var y,g=c(9549),O=c(7392),M=c(284),B=c(8255),V=c(266),Y=c(5804),G=c(4466),R=c(9742),Z=c(925),K=c(9349),p=c(6895),f=c(4006),$=c(4385);function X(s,n){if(1&s){const e=t.EpF();t.ynx(0)(1),t.TgZ(2,"div",24)(3,"div",25)(4,"button",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.removeImage())}),t._UZ(5,"mat-icon",26),t.qZA()(),t._UZ(6,"img",27),t.qZA(),t.BQk(),t.TgZ(7,"div",28)(8,"div",29),t._UZ(9,"textarea",30),t.qZA()(),t.BQk()}if(2&s){const e=t.oxw();t.xp6(5),t.Q6J("svgIcon","heroicons_outline:trash"),t.xp6(1),t.Q6J("src",e.imageUrl||"assets/images/cards/04-320x200.jpg",t.LSH),t.xp6(3),t.Q6J("placeholder","Whats happening....?")}}function ee(s,n){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"form",31)(2,"div",32)(3,"mat-form-field",33)(4,"mat-label"),t._uU(5,"Event name"),t.qZA(),t._UZ(6,"input",34),t.qZA()(),t.TgZ(7,"div",35)(8,"mat-form-field",36)(9,"mat-label"),t._uU(10,"Description"),t.qZA(),t._UZ(11,"textarea",37),t.qZA()(),t.TgZ(12,"div",38)(13,"mat-form-field",39)(14,"mat-label"),t._uU(15,"Venue / Meeting Link"),t.qZA(),t._UZ(16,"input",40),t.qZA()(),t.TgZ(17,"div",35)(18,"mat-form-field",36)(19,"mat-label"),t._uU(20,"Start date"),t.qZA(),t._UZ(21,"input",41)(22,"mat-datepicker-toggle",42)(23,"mat-datepicker",null,43),t.qZA(),t.TgZ(25,"mat-form-field",44)(26,"mat-label"),t._uU(27,"End date"),t.qZA(),t._UZ(28,"input",45)(29,"mat-datepicker-toggle",42)(30,"mat-datepicker",null,46),t.qZA()(),t.TgZ(32,"div",35)(33,"input",47),t.NdJ("change",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.onFileUpload(a,4))}),t.qZA()(),t.TgZ(34,"div",48),t._UZ(35,"mat-checkbox",49),t.TgZ(36,"span",50),t._uU(37,"Send Notification"),t.qZA()()(),t.BQk()}if(2&s){const e=t.MAs(24),i=t.MAs(31),a=t.oxw();t.xp6(1),t.Q6J("formGroup",a.studentForm.get("event_details")),t.xp6(2),t.Q6J("ngClass",a.formFieldHelpers),t.xp6(5),t.Q6J("ngClass",a.formFieldHelpers),t.xp6(3),t.Q6J("cdkAutosizeMinRows",3),t.xp6(2),t.Q6J("ngClass",a.formFieldHelpers),t.xp6(5),t.Q6J("ngClass",a.formFieldHelpers),t.xp6(3),t.Q6J("matDatepicker",e),t.xp6(1),t.Q6J("for",e),t.xp6(3),t.Q6J("ngClass",a.formFieldHelpers),t.xp6(3),t.Q6J("matDatepicker",i),t.xp6(1),t.Q6J("for",i),t.xp6(6),t.Q6J("color","primary")}}function te(s,n){if(1&s&&(t.ynx(0),t.TgZ(1,"form",31)(2,"div",35)(3,"mat-form-field",36)(4,"mat-label"),t._uU(5,"Your Question"),t.qZA(),t._UZ(6,"textarea",51),t.qZA()(),t.TgZ(7,"div",32)(8,"mat-form-field",33)(9,"mat-label"),t._uU(10,"Option 1"),t.qZA(),t._UZ(11,"input",52),t.qZA()(),t.TgZ(12,"div",38)(13,"mat-form-field",39)(14,"mat-label"),t._uU(15,"Option 2"),t.qZA(),t._UZ(16,"input",53),t.qZA()(),t.TgZ(17,"div",35)(18,"mat-form-field",33)(19,"mat-label"),t._uU(20,"Poll duration in weeks"),t.qZA(),t.TgZ(21,"mat-select",54)(22,"mat-option",55),t._uU(23,"One week"),t.qZA(),t.TgZ(24,"mat-option",56),t._uU(25,"Two week"),t.qZA(),t.TgZ(26,"mat-option",57),t._uU(27,"Three weeks"),t.qZA()()()(),t.TgZ(28,"div",48),t._UZ(29,"mat-checkbox",58),t.TgZ(30,"span",50),t._uU(31,"Send Notification"),t.qZA()()(),t.BQk()),2&s){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.studentForm.get("poll_details")),t.xp6(2),t.Q6J("ngClass",e.formFieldHelpers),t.xp6(3),t.Q6J("cdkAutosizeMinRows",3),t.xp6(2),t.Q6J("ngClass",e.formFieldHelpers),t.xp6(5),t.Q6J("ngClass",e.formFieldHelpers),t.xp6(5),t.Q6J("ngClass",e.formFieldHelpers),t.xp6(11),t.Q6J("color","primary")}}class F{constructor(n,e,i){this._studentHttp=n,this._studentUtils=e,this._dialogRef=i,this.postType="post",this.postSubType=0,this.formFieldHelpers=[""],this.link=function(a,r,o){const l=r.find("#fileInput"),d=r.find("#uploadButton");l.length&&d.length&&d.click(h=>l.click())},this.studentForm=this._studentUtils.getStudentPostForm()}removeImage(){}closeDialog(){this._dialogRef.close()}OnTypeSelect(n){this.postType=n,"poll"===this.postType&&this.studentForm.get("poll_details").enable(),"event"===this.postType&&this.studentForm.get("event_details").enable()}onCreateStudentPost(){this._createPost()}_createPost(){let n=new FormData;this.studentPostDocument&&n.append("files",this.studentPostDocument),this.studentPostPhoto&&n.append("photos",this.studentPostPhoto),this.studentPostVideo&&n.append("vedios",this.studentPostVideo),n.append("head",this.studentForm.get("head").value),n.append("post_type",""+this.postSubType),this._studentHttp.createPost(n).subscribe({next:e=>{this.closeDialog(),console.log(e)},error:e=>{console.log(e)}})}onCreateEventOrPoll(){let n=new FormData;this._studentHttp.createPost("poll"===this.postType?this._populateCreatePollPayload():this._populateCreateEventPayload(n)).subscribe({next:e=>{console.log(e),this.closeDialog()},error:e=>{console.log(e)}})}_populateCreateEventPayload(n){return this.student_event_file&&n.append("event_file",this.student_event_file),n.append("head",this.studentForm.get("event_details").get("event_name").value),n.append("post_type",""+this.postSubType),n.append("event_type","2"),n.append("event_name",""+this.studentForm.get("event_details").get("event_name").value),n.append("event_description",""+this.studentForm.get("event_details").get("event_description").value),n.append("venue",""+this.studentForm.get("event_details").get("venue").value),n.append("start_date",new Date(this.studentForm.get("event_details").get("start_date").value).toISOString().replace("T"," ").replace("0Z","")),n.append("end_date",new Date(this.studentForm.get("event_details").get("end_date").value).toISOString().replace("T"," ").replace("0Z","")),n.append("is_notification",""+(this.studentForm.get("event_details").get("is_notification").value+0)),n}_populateCreatePollPayload(){const n=new Date;let e=this.studentForm.get("poll_details").value;return n.setDate(n.getDate()+7*e.poll_end_date),e.poll_end_date=n.toISOString().replace("T"," ").split(".")[0]+".00",e.head=e.question,e.type=5,e.is_notification=""+(e.is_notification+0),e}onFileUpload(n,e){if(2===e)this.postSubType=e,this.studentPostDocument=n.target.files[0];else if(1===e){this.postSubType=e;const i=n.target.files[0];this.studentPostPhoto=i;let a=new FileReader;a.readAsDataURL(i),a.onload=()=>{this.imageUrl=a.result}}else 3===e?(this.postSubType=e,this.studentPostVideo=n.target.files[0]):4===e&&(this.postSubType=e,this.student_event_file=n.target.files[0])}}(y=F).\u0275fac=function(n){return new(n||y)(t.Y36(R.A),t.Y36(Z.h),t.Y36(x.so))},y.\u0275cmp=t.Xpm({type:y,selectors:[["app-posts"]],decls:39,vars:19,consts:[[1,"flex","flex-col","flex-auto","md:w-160","md:min-w-160","m-0",3,"formGroup"],[1,"group","flex","justify-between"],[1,"font-semibold","leading-none","m-4"],["mat-flat-button","","matDialogClose",""],[3,"svgIcon"],[1,"border-b","m-0"],[1,"flex","items-center","mt-6","mb-4"],["src","assets/images/logo/MSRIT-logo.png","alt","Card cover image",1,"w-10","h-10","rounded-full","mr-4"],[1,"flex","flex-col"],[1,"font-semibold","leading-none"],[1,"text-sm","text-secondary","leading-none","mt-1"],[4,"ngIf"],[1,"flex","items-center","justify-between","mt-4",3,"formGroup"],[1,"flex","items-center","space-x-2"],[3,"click"],["id","image-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","image-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-gray-400","hover:bg-opacity-20","dark:hover:bg-black","dark:hover:bg-opacity-5"],["id","video-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","video-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-gray-400","hover:bg-opacity-20","dark:hover:bg-black","dark:hover:bg-opacity-5"],["id","document-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["post_documet",""],["for","document-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-gray-400","hover:bg-opacity-20","dark:hover:bg-black","dark:hover:bg-opacity-5"],["mat-icon-button","",3,"click"],["mat-flat-button","","matDialogClose","",2,"background-color","lightsteelblue",3,"click"],[1,"relative","w-full"],[1,"absolute","right-0","bottom-0","p-4"],[1,"text-white",3,"svgIcon"],[1,"w-full","object-cover",2,"height","200px",3,"src"],[1,"m-4"],[1,"flex","w-full","py-5","px-2"],["formControlName","head","cdkTextareaAutosize","",1,"w-full",3,"placeholder"],[1,"flex","flex-col","mt-4","pb-4","overflow-hidden",3,"formGroup"],[1,"flex","flex-col","gt-xs:flex-row"],[1,"flex-auto","gt-xs:pr-3",3,"ngClass"],["matInput","","formControlName","event_name","placeholder","This is a placeholder"],[1,"flex"],[1,"flex-auto",3,"ngClass"],["matInput","","formControlName","event_description","cdkTextareaAutosize","",3,"cdkAutosizeMinRows"],[1,"flex","flex-col","gt-md:flex-row"],[1,"flex-auto","gt-md:pr-3",3,"ngClass"],["matInput","","formControlName","venue"],["matInput","","formControlName","start_date",3,"matDatepicker"],["matSuffix","",3,"for"],["startDate",""],[1,"flex-auto","ml-4",3,"ngClass"],["matInput","","formControlName","end_date",3,"matDatepicker"],["endDate",""],["id","fileInput","name","file","type","file",1,"ng-hide",3,"change"],[1,"flex","items-center","mt-4"],["formControlName","is_notification","disableRipple","",1,"flex","items-center",3,"color"],[1,"ml-1","leading-5"],["matInput","","formControlName","question","cdkTextareaAutosize","",3,"cdkAutosizeMinRows"],["formControlName","option1","matInput",""],["formControlName","option2","matInput",""],["formControlName","poll_end_date"],["value","1"],["value","2"],["value","3"],["disableRipple","",1,"flex","items-center",3,"color"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3),t.qZA(),t.TgZ(4,"button",3),t._UZ(5,"mat-icon",4),t.qZA()(),t._UZ(6,"hr",5),t.TgZ(7,"div",6),t._UZ(8,"img",7),t.TgZ(9,"div",8)(10,"span",9),t._uU(11,"MSRIT"),t.qZA(),t.TgZ(12,"span",10),t._uU(13,"College Admin"),t.qZA()()(),t.YNc(14,X,10,3,"ng-container",11),t.YNc(15,ee,38,12,"ng-container",11),t.YNc(16,te,32,7,"ng-container",11),t.ynx(17),t.TgZ(18,"div",12)(19,"div",13)(20,"div",14),t.NdJ("click",function(){return e.OnTypeSelect("post")}),t.TgZ(21,"input",15),t.NdJ("change",function(a){return e.onFileUpload(a,1)}),t.qZA(),t.TgZ(22,"label",16),t._UZ(23,"mat-icon",4),t.qZA()(),t.TgZ(24,"div",14),t.NdJ("click",function(){return e.OnTypeSelect("post")}),t.TgZ(25,"input",17),t.NdJ("change",function(a){return e.onFileUpload(a,3)}),t.qZA(),t.TgZ(26,"label",18),t._UZ(27,"mat-icon",4),t.qZA()(),t.TgZ(28,"div",14),t.NdJ("click",function(){return e.OnTypeSelect("post")}),t.TgZ(29,"input",19,20),t.NdJ("change",function(a){return e.onFileUpload(a,2)}),t.qZA(),t.TgZ(31,"label",21),t._UZ(32,"mat-icon",4),t.qZA()(),t.TgZ(33,"button",22),t.NdJ("click",function(){return e.OnTypeSelect("event")}),t._UZ(34,"mat-icon",4),t.qZA(),t.TgZ(35,"button",22),t.NdJ("click",function(){return e.OnTypeSelect("poll")}),t._UZ(36,"mat-icon",4),t.qZA()(),t.TgZ(37,"button",23),t.NdJ("click",function(){return"poll"===e.postType||"event"===e.postType?e.onCreateEventOrPoll():e.onCreateStudentPost()}),t._uU(38),t.qZA()(),t.BQk(),t.qZA()),2&n&&(t.Q6J("formGroup",e.studentForm),t.xp6(3),t.hij("Create a ",e.postType,""),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:x"),t.xp6(9),t.Q6J("ngIf","post"===e.postType),t.xp6(1),t.Q6J("ngIf","event"===e.postType),t.xp6(1),t.Q6J("ngIf","poll"===e.postType),t.xp6(2),t.Q6J("formGroup",e.studentForm),t.xp6(3),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:photograph"),t.xp6(2),t.Q6J("multiple",!1)("accept","video/mp4, video/x-m4v, video/*"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:film"),t.xp6(2),t.Q6J("multiple",!1)("accept","application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint, text/plain, application/pdf, image/*"),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:document-text"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:calendar"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:chart-square-bar"),t.xp6(2),t.hij("Create ",e.postType,""))},dependencies:[S.lW,S.RK,g.KE,g.hX,g.R9,O.Hw,M.Nt,K.IC,p.mk,p.O5,f._Y,f.Fj,f.JJ,f.JL,f.sg,f.u,x.ZT,C.Mq,C.hl,C.nW,P.oG,$.gD,m.ey],encapsulation:2});var D,ie=c(9602);function se(s,n){if(1&s&&(t.TgZ(0,"div"),t._UZ(1,"img",33),t.qZA()),2&s){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("src",null==e?null:e.post_files[0],t.LSH)}}function ne(s,n){if(1&s&&(t.TgZ(0,"div")(1,"video",34),t._UZ(2,"source",35),t.qZA()()),2&s){const e=t.oxw(2).$implicit;t.xp6(2),t.Q6J("src",null==e?null:e.post_files[0],t.LSH)}}function ae(s,n){if(1&s&&(t.TgZ(0,"div")(1,"button",36),t._UZ(2,"mat-icon",37),t.TgZ(3,"a",38)(4,"span",39),t._uU(5,"Download Attachment."),t.qZA()()()()),2&s){const e=t.oxw(2).$implicit;t.xp6(2),t.Q6J("svgIcon","heroicons_solid:download"),t.xp6(1),t.Q6J("href",null==e?null:e.post_files[0],t.LSH)}}function re(s,n){if(1&s&&(t.TgZ(0,"div",29)(1,"div",30)(2,"div",31),t.YNc(3,se,2,1,"div",32),t.YNc(4,ne,3,1,"div",32),t.YNc(5,ae,6,2,"div",32),t.qZA()()()),2&s){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",1===e.post_type),t.xp6(1),t.Q6J("ngIf",3===e.post_type),t.xp6(1),t.Q6J("ngIf",2===e.post_type)}}function oe(s,n){if(1&s&&(t.TgZ(0,"fuse-card",22)(1,"div",23),t._UZ(2,"img",24),t.TgZ(3,"div",25)(4,"span",26),t._uU(5),t.qZA()()(),t.TgZ(6,"div",27),t._uU(7),t.qZA(),t.YNc(8,re,6,3,"div",28),t.qZA()),2&s){const e=n.$implicit;t.xp6(5),t.Oqu(e.created_by.name),t.xp6(2),t.hij(" ",e.head," "),t.xp6(1),t.Q6J("ngIf",!(0===e.post_type||5===e.post_type||4===e.post_type))}}function le(s,n){if(1&s&&(t.TgZ(0,"div",40),t._UZ(1,"mat-icon",41),t.TgZ(2,"div"),t._uU(3),t.qZA()()),2&s){const e=n.$implicit;t.xp6(1),t.Q6J("svgIcon","heroicons_solid:bell"),t.xp6(2),t.hij(" ",(null==e?null:e.heading)||"Latest announcement loading..."," ")}}function ce(s,n){if(1&s&&(t.TgZ(0,"div",42)(1,"div",43),t._uU(2),t.qZA(),t.TgZ(3,"div",44)(4,"div",45),t._uU(5),t.qZA(),t.TgZ(6,"div",46),t._uU(7,"Subscribe for updates"),t.qZA(),t.TgZ(8,"div",47),t._uU(9),t.qZA()()()),2&s){const e=n.$implicit;t.xp6(2),t.hij(" ",e.display_name.slice(0,2)," "),t.xp6(3),t.Oqu(null==e?null:e.display_name),t.xp6(4),t.hij("",(null==e||null==e.user?null:e.user.length)||0," followers")}}const de=function(){return["../announcement"]},ue=function(){return["../clubs"]};class E{constructor(n,e,i,a,r){this._matDialog=n,this._studentUtils=e,this.ref=i,this._studentData=a,this._router=r,this.customOptions={loop:!1,mouseDrag:!1,touchDrag:!0,pullDrag:!1,margin:10,dots:!0,navSpeed:700,navText:["","Next"],autoWidth:!0,responsiveRefreshRate:10,responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:3}},nav:!1},this.latestAnnoucement=[],this.top4Clubs=[]}ngOnInit(){this._studentData.onPostsChange.subscribe({next:n=>{},error:n=>{console.log(n)}}),this._studentUtils.getAllpost().subscribe({next:n=>{this.allPosts=n.data.rows,this.ref.detectChanges()},error:n=>{console.log(n)}}),this._studentUtils.getAllCircualrs().subscribe({next:n=>{this.latestAnnoucement=n.data.rows.length<=3?n.data.results:n.data.rows.slice(0,4),this.ref.detectChanges()},error:n=>{console.log(n)}}),this._studentUtils.getAllClub().subscribe({next:n=>{this.top4Clubs=n.data.rows,this.top4Clubs=this.top4Clubs?.length>4?this.top4Clubs?.slice(0,4):this.top4Clubs,this.ref.detectChanges()},error:n=>{console.log(n)}})}onPostLike(n){n.is_liked=!n?.is_liked}addNewPost(){this._matDialog.open(F,{autoFocus:!1,maxHeight:"90vh",data:{note:{}}}).afterClosed().subscribe(e=>{console.log(`Dialog result: ${e}`)})}onViewAllAnnouncement(){this._router.navigate(["student/announcement"],{queryParams:{circular:"announcement"}})}}(D=E).\u0275fac=function(n){return new(n||D)(t.Y36(x.uw),t.Y36(R.A),t.Y36(t.sBO),t.Y36(Z.h),t.Y36(k.F0))},D.\u0275cmp=t.Xpm({type:D,selectors:[["connect"]],decls:29,vars:12,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-auto","w-full","max-w-full","mx-auto","p-6","sm:p-8"],[1,"flex","flex-col","items-start","min-w-3/4"],[1,"flex","flex-col","w-full","p-4"],[1,"flex-auto0"],["autofocus","","matInput","",3,"placeholder","click"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matSuffix","",1,"icon-size-5",3,"svgIcon","click"],["class","flex flex-col w-full mt-8",4,"ngFor","ngForOf"],[1,"hidden","lg:flex","flex-col","items-start","ml-8"],[1,"sticky",2,"top","100px"],[1,"flex","flex-col","max-w-80","w-full","px-8","pt-6","pb-4"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-semibold","leading-tight"],[1,"flex-col","mt-5"],["class","flex mt-5",4,"ngFor","ngForOf"],[1,"flex","items-center","mt-4","-mx-3"],["mat-button","",1,"px-3",3,"color","routerLink"],[1,"flex","flex-col","max-w-80","w-full","mt-8","px-8","pt-6","pb-4"],[1,"flex","flex-col","mt-5"],["class","flex items-center mb-4",4,"ngFor","ngForOf"],[1,"flex","items-center","mt-6","-mx-3"],[1,"flex","flex-col","w-full","mt-8"],[1,"flex","items-center","mx-6","sm:mx-8","mt-6","mb-4"],["src","assets/images/avatars/female-01.jpg","alt","Card cover image",1,"w-10","h-10","rounded-full","mr-4"],[1,"flex","flex-col"],[1,"font-semibold","leading-none"],[1,"mx-6","sm:mx-8","mt-2","mb-6"],["class","mx-6 sm:mx-8 mb-4",4,"ngIf"],[1,"mx-6","sm:mx-8","mb-4"],[1,"flex","rounded","overflow-hidden","justify-between"],[1,"flex","max-h-128","max-w-200"],[4,"ngIf"],["alt","eachPost.created_by.name +' '+  post",1,"object-cover","max-w-full","max-h-full",3,"src"],["controls","",1,"object-cover"],["type","video/mp4",3,"src"],["mat-button","",1,"px-3","mr-1"],[1,"icon-size-5","text-red-500",3,"svgIcon"],["download","attachedFile.txt",3,"href"],[1,"ml-2"],[1,"flex","mt-5"],[1,"icon-size-5","mt-0.5","mr-2",3,"svgIcon"],[1,"flex","items-center","mb-4"],[1,"w-10","h-10","rounded-full","mr-4","flex","justify-center","items-center",2,"background-color","#c7e6e7"],[1,"flex","flex-col","min-w-0"],[1,"font-medium","leading-none"],[1,"text-md","truncate","leading-none","mt-1"],[1,"text-md","leading-none","text-secondary","mt-2"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"fuse-card",3)(4,"mat-form-field",4)(5,"input",5),t.NdJ("click",function(){return e.addNewPost()}),t.qZA(),t._UZ(6,"mat-icon",6),t.TgZ(7,"mat-icon",7),t.NdJ("click",function(){return e.addNewPost()}),t.qZA()()(),t.YNc(8,oe,9,3,"fuse-card",8),t.qZA(),t.TgZ(9,"div",9)(10,"div",10)(11,"fuse-card",11)(12,"div",12)(13,"div",13),t._uU(14,"Circulars"),t.qZA()(),t.TgZ(15,"div",14),t.YNc(16,le,4,2,"div",15),t.qZA(),t.TgZ(17,"div",16)(18,"a",17),t._uU(19," See all Circulars "),t.qZA()()(),t.TgZ(20,"fuse-card",18)(21,"div",12)(22,"div",13),t._uU(23,"Follow College Club"),t.qZA()(),t.TgZ(24,"div",19),t.YNc(25,ce,10,3,"div",20),t.qZA(),t.TgZ(26,"div",21)(27,"a",17),t._uU(28," See all Clubs "),t.qZA()()()()()()()),2&n&&(t.xp6(5),t.Q6J("placeholder","Create post"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:user-circle"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:plus-circle"),t.xp6(1),t.Q6J("ngForOf",e.allPosts),t.xp6(8),t.Q6J("ngForOf",e.latestAnnoucement),t.xp6(2),t.Q6J("color","primary")("routerLink",t.DdM(10,de)),t.xp6(7),t.Q6J("ngForOf",e.top4Clubs),t.xp6(2),t.Q6J("color","primary")("routerLink",t.DdM(11,ue)))},dependencies:[k.rH,S.zs,S.lW,g.KE,g.qo,g.R9,O.Hw,M.Nt,ie.y,p.sg,p.O5],styles:[".carousel-wrap{padding:10px}.carousel-wrap .carousel-block{margin:0 10px}\n"],encapsulation:2,changeDetection:0});var he=c(7579),ge=c(1481);let De=(()=>{class s{constructor(e){this.errorHandler=e}log(e,...i){(0,t.X6Q)()&&console.log(e,...i)}error(e){this.errorHandler.handleError(e)}warn(e,...i){console.warn(e,...i)}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(t.qLn))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})();const be=new t.OlP("WindowToken");class A{get nativeWindow(){throw new Error("Not implemented.")}}const ke=[{provide:A,useClass:(()=>{class s extends A{constructor(){super()}get nativeWindow(){return window}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},{provide:be,useFactory:function Ce(s,n){return(0,p.NF)(n)?s.nativeWindow:{setTimeout:(i,a)=>{},clearTimeout:i=>{}}},deps:[A,t.Lbi]}],Oe=new t.OlP("DocumentToken");class L{get nativeDocument(){throw new Error("Not implemented.")}}const Pe=[{provide:L,useClass:(()=>{class s extends L{constructor(){super()}get nativeDocument(){return document}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})()},{provide:Oe,useFactory:function Ae(s,n){return(0,p.NF)(n)?s.nativeDocument:{hidden:!1,visibilityState:"visible"}},deps:[L,t.Lbi]}];let ze=(()=>{class s{constructor(e){this.eventManager=e,this.resizeSubject=new he.x,this.eventManager.addGlobalEventListener("window","resize",this.onResize.bind(this)),this.eventManager.addGlobalEventListener("window","onload",this.onLoaded.bind(this))}get onResize$(){return this.resizeSubject.asObservable()}onResize(e){this.resizeSubject.next(e.target)}onLoaded(e){this.windowWidth=e.target}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(ge.Qz))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})(),Re=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[ke,ze,Pe,De],imports:[p.ez]}),s})();var v;const Ze=[{path:"",component:E}];class H{}(v=H).\u0275fac=function(n){return new(n||v)},v.\u0275mod=t.oAB({type:v}),v.\u0275inj=t.cJS({imports:[k.Bz.forChild(Ze),S.ot,N.t,g.lN,O.Ps,M.c,B.Tx,V.AV,Y.J,G.m,x.Is,C.FA,q,P.p9,$.LD,Re]})}}]);