"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[851],{2851:(I,x,n)=>{n.r(x),n.d(x,{AllCollegesModule:()=>U});var r,v=n(6895),b=n(2819),e=n(4650),_=n(9742),f=n(9299),M=n(7274),s=n(7155),u=n(4859),Z=n(7392),C=n(6308);function y(o,t){1&o&&(e.TgZ(0,"mat-header-cell",14),e._uU(1," College Name "),e.qZA())}function J(o,t){if(1&o){const l=e.EpF();e.TgZ(0,"mat-cell",15),e.NdJ("click",function(){const d=e.CHM(l).$implicit,p=e.oxw();return e.KtG(p.onRoleClick(d))}),e._uU(1),e.qZA()}if(2&o){const l=t.$implicit;e.xp6(1),e.hij(" ",l.Name," ")}}function L(o,t){1&o&&(e.TgZ(0,"mat-header-cell",14),e._uU(1," Actions "),e.qZA())}function R(o,t){if(1&o){const l=e.EpF();e.TgZ(0,"mat-cell",16)(1,"button",17),e.NdJ("click",function(){const d=e.CHM(l).$implicit,p=e.oxw();return e.KtG(p.onClickEdit(d))}),e.TgZ(2,"mat-icon",18),e._uU(3,"edit"),e.qZA()(),e.TgZ(4,"button",19),e.NdJ("click",function(){const d=e.CHM(l).$implicit,p=e.oxw();return e.KtG(p.onClickDelete(d.id,d))}),e.TgZ(5,"mat-icon"),e._uU(6,"delete"),e.qZA()()()}}function k(o,t){1&o&&e._UZ(0,"mat-header-row")}function Q(o,t){1&o&&e._UZ(0,"mat-row",20)}const w=[];class T{constructor(t,l,a){this._http=t,this._router=l,this._matDialog=a,this.displayedColumns=["name","Actions"],this.products=w,this.dataSource=w}ngOnInit(){this._http.getAllRoles().subscribe({next:t=>{this.products=t.data,this.dataSource=this.products},error:t=>{console.log("fetching roles failed...")}})}onNavigate(t){console.log(`product code ${t}`)}filterProduct(t){}onClickEdit(t){this._router.navigate([`/student/roles/edit-roles/${t.id}`])}onClickDelete(t,l){0===l.UserCount?this._http.deleteRole(t).subscribe({next:a=>{console.log(a),this._http.getAllRoles().subscribe({next:i=>{this.products=i.data,this.dataSource=this.products},error:i=>{console.log("fetching roles failed...")}})},error:a=>{console.log(a)}}):this.notifiyLoadedUserDelete("")}onRoleClick(t){this._router.navigate([`/student/roles/add-users-to-role/${t.id}`,{name:t.Name,description:t.Description,id:t.id}])}notifiyLoadedUserDelete(t){this._matDialog.open(b.u,{autoFocus:!1,maxHeight:"80vh",width:"30vw",data:{type:t}}).afterClosed().subscribe(a=>{console.log(`Dialog result: ${a}`)})}}(r=T).\u0275fac=function(t){return new(t||r)(e.Y36(_.A),e.Y36(f.F0),e.Y36(M.uw))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-list-all-colleges"]],decls:18,vars:4,consts:[[1,"w-full"],[1,"p-6","flex","justify-between","header-bg-grad-lit"],[1,"text-3xl","font-semibold","flex"],["mat-raised-button","",2,"background-color","#001E52","color","white",3,"routerLink"],[1,"w-4/5","m-6"],["matSort","",3,"dataSource"],["table",""],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],["class","cursor-pointer",3,"click",4,"matCellDef"],["matColumnDef","Actions"],["style","padding-left:0px !important",4,"matCellDef"],[4,"matHeaderRowDef"],["id","grad-lit-table-row",4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],[1,"cursor-pointer",3,"click"],[2,"padding-left","0px !important"],["mat-icon-button","","color","primary",1,"iconbutton",3,"click"],[2,"color","#001E52 !important"],["mat-icon-button","","color","warn",1,"iconbutton",3,"click"],["id","grad-lit-table-row"]],template:function(t,l){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3,"All Colleges"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e._uU(6,"Add College"),e.qZA()()(),e.TgZ(7,"div",4)(8,"mat-table",5,6),e.ynx(10,7),e.YNc(11,y,2,0,"mat-header-cell",8),e.YNc(12,J,2,1,"mat-cell",9),e.BQk(),e.ynx(13,10),e.YNc(14,L,2,0,"mat-header-cell",8),e.YNc(15,R,7,0,"mat-cell",11),e.BQk(),e.YNc(16,k,1,0,"mat-header-row",12),e.YNc(17,Q,1,0,"mat-row",13),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("routerLink","/student/super-admin/add-new-college"),e.xp6(3),e.Q6J("dataSource",l.dataSource),e.xp6(8),e.Q6J("matHeaderRowDef",l.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",l.displayedColumns))},dependencies:[f.rH,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,u.lW,u.RK,Z.Hw,C.YE,C.nU]});var g,F=n(925),h=n(9549),A=n(284),Y=n(9349),m=n(4006);function E(o,t){if(1&o&&(e.TgZ(0,"div",17),e._UZ(1,"img",18),e.qZA()),2&o){const l=e.oxw();e.xp6(1),e.Q6J("src",l.imageUrl,e.LSH)}}class N{constructor(t,l){this._studentData=t,this._http=l,this.collegeName="",this.collegeDesc="",this.email="",this.collegeDisplayName="",this.selectedUsersID=""}onFileUpload(t){const l=t.target.files[0];this.collegeLogo=l;let a=new FileReader;a.readAsDataURL(l),a.onload=()=>{this.imageUrl=a.result}}onAddcollege(){let t=new FormData;t.append("name",this.collegeName),t.append("description",this.collegeDesc),t.append("email",this.email),this.collegeLogo&&t.append("logo",this.collegeLogo)}}(g=N).\u0275fac=function(t){return new(t||g)(e.Y36(F.h),e.Y36(_.A))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-add-new-college"]],decls:36,vars:9,consts:[[1,"m-4","w-full","min-h-180","relative"],[1,"w-4/5"],[1,"font-semibold","text-xl","mb-4"],[1,"flex"],[1,"flex","flex-col","gt-xs:flex-row","w-1/2"],[1,"flex-auto","gt-xs:pr-3","w-full"],["matInput","","placeholder","college name",3,"ngModel","ngModelChange"],[1,"flex-auto"],["matInput","","cdkTextareaAutosize","",3,"ngModel","cdkAutosizeMinRows","ngModelChange"],[1,"flex","flex-col","gt-xs:flex-row"],["matInput","","placeholder","email",3,"ngModel","ngModelChange"],["id","image-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["for","image-file-input","matRipple","",1,"flex","items-center","justify-center","w-24","h-10","rounded-full","cursor-pointer","bg-gray-300"],["class","flex mt-5 max-w-48 max-h-44",4,"ngIf"],[1,"my-10","mt-8","w-full","absolute","bottom-6"],[1,"flex","justify-end"],["mat-raised-button","","color","primary",2,"background-color","#001E52","width","150px",3,"click"],[1,"flex","mt-5","max-w-48","max-h-44"],[3,"src"]],template:function(t,l){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),e._uU(4,"Add New College"),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"mat-form-field",5)(8,"mat-label"),e._uU(9,"College name"),e.qZA(),e.TgZ(10,"input",6),e.NdJ("ngModelChange",function(i){return l.collegeName=i}),e.qZA()()()(),e.TgZ(11,"div",3)(12,"mat-form-field",7)(13,"mat-label"),e._uU(14,"Description"),e.qZA(),e.TgZ(15,"textarea",8),e.NdJ("ngModelChange",function(i){return l.collegeDesc=i}),e.qZA()()(),e.TgZ(16,"div",9)(17,"mat-form-field",5)(18,"mat-label"),e._uU(19,"Email"),e.qZA(),e.TgZ(20,"input",10),e.NdJ("ngModelChange",function(i){return l.email=i}),e.qZA()()(),e.TgZ(21,"div",9)(22,"mat-form-field",5)(23,"mat-label"),e._uU(24,"Address"),e.qZA(),e.TgZ(25,"textarea",8),e.NdJ("ngModelChange",function(i){return l.collegeDesc=i}),e.qZA()()(),e.TgZ(26,"div")(27,"input",11),e.NdJ("change",function(i){return l.onFileUpload(i)}),e.qZA(),e.TgZ(28,"label",12)(29,"span"),e._uU(30,"Add Logo"),e.qZA()()(),e.YNc(31,E,2,1,"div",13),e.qZA(),e.TgZ(32,"div",14)(33,"div",15)(34,"button",16),e.NdJ("click",function(){return l.onAddcollege()}),e._uU(35,"Add college"),e.qZA()()()()),2&t&&(e.xp6(10),e.Q6J("ngModel",l.collegeName),e.xp6(5),e.Q6J("ngModel",l.collegeDesc)("cdkAutosizeMinRows",3),e.xp6(5),e.Q6J("ngModel",l.email),e.xp6(5),e.Q6J("ngModel",l.collegeDesc)("cdkAutosizeMinRows",3),e.xp6(2),e.Q6J("multiple",!1)("accept","image/jpeg, image/png"),e.xp6(4),e.Q6J("ngIf",l.imageUrl))},dependencies:[v.O5,h.KE,h.hX,A.Nt,Y.IC,m.Fj,m.JJ,m.On,u.lW]});var c,H=n(6709),S=n(1572),D=n(266);const j=[{path:"",component:T},{path:"add-new-college",component:N}];class U{}(c=U).\u0275fac=function(t){return new(t||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[v.ez,f.Bz.forChild(j),s.p0,h.lN,H.p9,A.c,m.u5,m.UX,u.ot,Z.Ps,s.p0,D.AV,D.AV,C.JX,A.c,S.Cq]})}}]);